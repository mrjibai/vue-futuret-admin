import{u as V}from"./index-23cadc71.js";import{d as z,C as x,l as N,r as s,o as W,a as X,g as e,w as t,i as U,h as p,s as Y}from"./index-06042dac.js";const Z={class:"userControl"},ee={class:"sercarINput"},te={class:"dialog-footer"},ae=z({name:"UserControl"}),le=z({...ae,setup(oe){let C=V;const k=x({filterName:""}),v=x({userControlRouterList:[],Tips:"添加用户"}),g=N(!1),u=x({currentPage:1,total:V.length,pageSize:10}),f=()=>{g.value=!1,C=V.slice((u.currentPage-1)*u.pageSize,u.pageSize),v.userControlRouterList=C};f();const S=()=>{g.value=!0,setTimeout(()=>{f()},1e3)},c=N(!1),a=x({id:1001,accountName:"",userNickname:"",associatedRole:"",department:"",phone:"",email:"",sex:"",password:"",userStatus:"",userDescription:"",createTime:new Date().toDateString()}),T=()=>{c.value=!1;for(const n in a)a[n]=""},y=n=>{a.id=n.id,a.accountName=n.accountName,a.userNickname=n.userNickname,a.associatedRole=n.associatedRole,a.department=n.department,a.phone=n.phone,a.email=n.email,a.sex=n.sex,a.password=n.password,a.userStatus=n.userStatus,a.userDescription=n.userDescription,a.createTime=n.createTime,c.value=!0,v.Tips="修改用户"},R=()=>{g.value=!0,c.value=!1,setTimeout(()=>{f()},1e3)},D=n=>{g.value=!0,setTimeout(()=>{f()},1e3)},P=n=>{u.pageSize=n,C=V.slice((u.currentPage-1)*u.pageSize,u.pageSize),f()},L=n=>{u.currentPage=n,C=V.slice((u.currentPage-1)*u.pageSize,u.pageSize),f()},$=n=>n,I=()=>{c.value=!0,v.Tips="新增部门"};return(n,o)=>{const _=s("a-input"),m=s("a-button"),B=s("vxe-toolbar"),d=s("vxe-column"),E=s("a-popconfirm"),j=s("vxe-table"),H=s("a-spin"),q=s("a-pagination"),i=s("a-form-item"),r=s("a-col"),b=s("a-select-option"),h=s("a-select"),A=s("a-tree-select"),K=s("a-input-password"),O=s("a-switch"),F=s("a-tooltip"),G=s("a-textarea"),J=s("a-row"),M=s("a-form"),Q=s("a-modal");return W(),X("div",Z,[e(B,null,{buttons:t(()=>[U("div",ee,[e(_,{value:k.filterName,"onUpdate:value":o[0]||(o[0]=l=>k.filterName=l),type:"search",placeholder:"请输入角色名称，搜索",onKeyup:S},null,8,["value"]),e(m,{type:"primary",ghost:"",onClick:S},{default:t(()=>[p("查询")]),_:1}),e(m,{type:"primary",onClick:I},{default:t(()=>[p("新增用户")]),_:1})])]),_:1}),e(H,{spinning:g.value},{default:t(()=>[e(j,{border:"none","show-header-overflow":"","show-overflow":"","row-config":{isHover:!0},data:v.userControlRouterList},{default:t(()=>[e(d,{type:"seq",title:"序号",width:"60"}),e(d,{field:"accountName",title:"账户名称"}),e(d,{field:"userNickname",title:"用户昵称"}),e(d,{field:"associatedRole",title:"关联角色"}),e(d,{field:"department",title:"部门"}),e(d,{field:"phone",title:"手机号"}),e(d,{field:"email",title:"邮箱"}),e(d,{field:"userStatus",title:"用户状态"}),e(d,{field:"userDescription",title:"用户描述"}),e(d,{field:"createTime",title:"创建时间"}),e(d,{field:"",title:"操作",width:"20%"},{default:t(({row:l})=>[e(m,{type:"link",onClick:w=>y(l)},{default:t(()=>[p("新增")]),_:2},1032,["onClick"]),e(m,{type:"link",onClick:w=>y(l)},{default:t(()=>[p("修改")]),_:2},1032,["onClick"]),e(E,{title:"你确认要删除这条数据吗 ?",onConfirm:w=>D(l),"ok-text":"确认","cancel-text":"取消"},{default:t(()=>[e(m,{type:"link"},{default:t(()=>[p("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1},8,["spinning"]),e(q,{"show-total":l=>`总数 ${l} 条`,onShowSizeChange:P,onChange:L,current:u.currentPage,"onUpdate:current":o[1]||(o[1]=l=>u.currentPage=l),"page-sizes":[10,20,30,40],pageSize:u.pageSize,"onUpdate:pageSize":o[2]||(o[2]=l=>u.pageSize=l),layout:"total, sizes, prev, pager, next, jumper",total:u.total,"show-size-changer":""},null,8,["show-total","current","pageSize","total"]),e(Q,{open:c.value,"onUpdate:open":o[15]||(o[15]=l=>c.value=l),title:v.Tips,afterClose:T,draggable:""},{footer:t(()=>[U("span",te,[e(m,{onClick:o[14]||(o[14]=l=>c.value=!1)},{default:t(()=>[p("取消")]),_:1}),e(m,{type:"primary",onClick:R},{default:t(()=>[p(" 保存 ")]),_:1})])]),default:t(()=>[e(M,{model:a},{default:t(()=>[e(J,{gutter:20},{default:t(()=>[e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"账户名称"},{default:t(()=>[e(_,{modelValue:a.accountName,"onUpdate:modelValue":o[3]||(o[3]=l=>a.accountName=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"用户昵称"},{default:t(()=>[e(_,{modelValue:a.userNickname,"onUpdate:modelValue":o[4]||(o[4]=l=>a.userNickname=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"关联角色"},{default:t(()=>[e(h,{modelValue:a.associatedRole,"onUpdate:modelValue":o[5]||(o[5]=l=>a.associatedRole=l),"value-key":"",placeholder:"请选择"},{default:t(()=>[e(b,{value:"普通用户"},{default:t(()=>[p(" 普通用户 ")]),_:1}),e(b,{value:"超级管理员"},{default:t(()=>[p(" 超级管理员 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"部门"},{default:t(()=>[e(A,{value:a.department,"onUpdate:value":o[6]||(o[6]=l=>a.department=l),style:{width:"100%"},"field-names":{label:"label",value:"path",children:"children",key:"path"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"","allow-clear":"","tree-default-expand-all":"","tree-data":$([])},null,8,["value","tree-data"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"手机号"},{default:t(()=>[e(_,{modelValue:a.phone,"onUpdate:modelValue":o[7]||(o[7]=l=>a.phone=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"邮箱"},{default:t(()=>[e(_,{modelValue:a.email,"onUpdate:modelValue":o[8]||(o[8]=l=>a.email=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"性别"},{default:t(()=>[e(h,{modelValue:a.sex,"onUpdate:modelValue":o[9]||(o[9]=l=>a.sex=l),"value-key":"1",placeholder:"请选择"},{default:t(()=>[e(b,{value:"男"},{default:t(()=>[p(" 男 ")]),_:1}),e(b,{value:"女"},{default:t(()=>[p(" 女 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"账户密码"},{default:t(()=>[e(K,{modelValue:a.password,"onUpdate:modelValue":o[10]||(o[10]=l=>a.password=l),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"账户过期"},{default:t(()=>[e(_,{type:"date",modelValue:a.createTime,"onUpdate:modelValue":o[11]||(o[11]=l=>a.createTime=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12,offset:0},{default:t(()=>[e(i,{label:"角色状态"},{default:t(()=>[e(F,{content:"Switch value: "+a.userStatus,placement:"top"},{default:t(()=>[e(O,{checked:a.userStatus,"onUpdate:checked":o[12]||(o[12]=l=>a.userStatus=l)},null,8,["checked"])]),_:1},8,["content"])]),_:1})]),_:1}),e(r,{span:24,offset:0},{default:t(()=>[e(i,{label:"用户描述"},{default:t(()=>[e(G,{type:"textarea",rows:2,placeholder:"请输入内容",modelValue:a.userDescription,"onUpdate:modelValue":o[13]||(o[13]=l=>a.userDescription=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}});const ue=Y(le,[["__scopeId","data-v-960b1e0d"]]);export{ue as default};
