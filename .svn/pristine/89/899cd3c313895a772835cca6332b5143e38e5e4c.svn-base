import{d as D}from"./index-23cadc71.js";import{d as N,l as y,C as b,r as o,o as Q,a as R,g as e,w as t,i as h,h as i,t as k,s as W}from"./index-31a1d1c7.js";const X={class:"DepManagement"},Y={class:"sercarINput"},Z={class:"dialog-footer"},ee=N({name:"DepManagement"}),te=N({...ee,setup(ae){let z=D;const c=y(!1),r=y(!1),C=b({filterName:""}),g=b({depManagementsList:[],Tips:"添加部门"}),v=()=>{c.value=!1,g.depManagementsList=z};v();const V=()=>{c.value=!0,setTimeout(()=>{v()},1e3)},x=s=>{r.value=!0,g.Tips="编辑部门",n.ParentDep=s.ParentDep,n.departmentName=s.departmentName,n.personInCharge=s.personInCharge,n.phone=s.phone,n.email=s.email,n.sort=s.sort,n.departmentStatus=s.departmentStatus,n.departmentDescription=s.departmentDescription},U=s=>{c.value=!0,setTimeout(()=>{v()},1e3)},u=b({currentPage:1,total:D.length,pageSize:10}),w=s=>{u.pageSize=s,v()},M=s=>{u.currentPage=s,v()},T=()=>{r.value=!1},n=b({ParentDep:"",departmentName:"",personInCharge:"",phone:"",email:"",sort:0,departmentStatus:"",departmentDescription:"",createTime:new Date().toLocaleString(),children:[]}),P=()=>{c.value=!0,r.value=!1},I=()=>{r.value=!0,g.Tips="新增部门"};return(s,l)=>{const _=o("a-input"),m=o("a-button"),L=o("vxe-toolbar"),f=o("vxe-column"),$=o("a-tag"),B=o("a-popconfirm"),E=o("vxe-table"),j=o("a-spin"),A=o("a-pagination"),H=o("a-tree-select"),p=o("a-form-item"),d=o("a-col"),K=o("a-input-number"),O=o("a-switch"),q=o("a-tooltip"),F=o("a-row"),G=o("a-form"),J=o("a-modal");return Q(),R("div",X,[e(L,null,{buttons:t(()=>[h("div",Y,[e(_,{modelValue:C.filterName,"onUpdate:modelValue":l[0]||(l[0]=a=>C.filterName=a),type:"search",placeholder:"请输入部门名称",onKeyup:V},null,8,["modelValue"]),e(m,{type:"primary",ghost:"",onClick:V},{default:t(()=>[i("查询")]),_:1}),e(m,{type:"primary",onClick:I},{default:t(()=>[i("新增部门")]),_:1})])]),_:1}),e(j,{spinning:c.value},{default:t(()=>[e(E,{border:"none",ref:"xTree","max-height":"700","tree-config":{},data:g.depManagementsList,align:"left"},{default:t(()=>[e(f,{field:"departmentName",title:"账户名称","tree-node":""},{default:t(({row:a})=>[h("div",null,k(a.departmentName),1)]),_:1}),e(f,{field:"sort",title:"排序"}),e(f,{field:"departmentStatus",title:"部门状态"},{default:t(({row:a})=>[e($,{color:"#87d068",title:a.DicStatus},{default:t(()=>[i(k(a.departmentStatus),1)]),_:2},1032,["title"])]),_:1}),e(f,{field:"departmentDescription",title:"部门描述"}),e(f,{field:"createTime",title:"创建时间"}),e(f,{field:"",title:"操作",width:"15%"},{default:t(({row:a})=>[e(m,{type:"link",onClick:S=>x(a)},{default:t(()=>[i("新增")]),_:2},1032,["onClick"]),e(m,{type:"link",onClick:S=>x(a)},{default:t(()=>[i("修改")]),_:2},1032,["onClick"]),e(B,{title:"你确认要删除这条数据吗 ?",onConfirm:S=>U(a),"confirm-button-text":"确认","cancel-button-text":"取消"},{reference:t(()=>[e(m,{type:"link"},{default:t(()=>[i("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1},8,["spinning"]),e(A,{"show-total":a=>`总数 ${a} 条`,onShowSizeChange:w,onChange:M,current:u.currentPage,"onUpdate:current":l[1]||(l[1]=a=>u.currentPage=a),"page-sizes":[10,20,30,40],pageSize:u.pageSize,"onUpdate:pageSize":l[2]||(l[2]=a=>u.pageSize=a),layout:"total, sizes, prev, pager, next, jumper",total:u.total,"show-size-changer":""},null,8,["show-total","current","pageSize","total"]),e(J,{open:r.value,"onUpdate:open":l[12]||(l[12]=a=>r.value=a),title:g.Tips,afterClose:T,draggable:"",width:"47%"},{footer:t(()=>[h("span",Z,[e(m,{onClick:l[11]||(l[11]=a=>r.value=!1)},{default:t(()=>[i("取消")]),_:1}),e(m,{type:"primary",onClick:P},{default:t(()=>[i(" 保存 ")]),_:1})])]),default:t(()=>[e(G,{model:n,"label-width":"120px"},{default:t(()=>[e(F,{gutter:20},{default:t(()=>[e(d,{span:24,offset:0},{default:t(()=>[e(p,{label:"上级部门"},{default:t(()=>[e(H,{value:n.ParentDep,"onUpdate:value":l[3]||(l[3]=a=>n.ParentDep=a),style:{width:"100%"},"field-names":{label:"label",value:"path",children:"children",key:"path"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"","allow-clear":"","tree-default-expand-all":"","tree-data":[]},null,8,["value"])]),_:1})]),_:1}),e(d,{span:12,offset:0},{default:t(()=>[e(p,{label:"部门名称"},{default:t(()=>[e(_,{modelValue:n.departmentName,"onUpdate:modelValue":l[4]||(l[4]=a=>n.departmentName=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12,offset:0},{default:t(()=>[e(p,{label:"负责人"},{default:t(()=>[e(_,{modelValue:n.personInCharge,"onUpdate:modelValue":l[5]||(l[5]=a=>n.personInCharge=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12,offset:0},{default:t(()=>[e(p,{label:"手机号"},{default:t(()=>[e(_,{modelValue:n.phone,"onUpdate:modelValue":l[6]||(l[6]=a=>n.phone=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12,offset:0},{default:t(()=>[e(p,{label:"邮箱"},{default:t(()=>[e(_,{modelValue:n.phone,"onUpdate:modelValue":l[7]||(l[7]=a=>n.phone=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12,offset:0},{default:t(()=>[e(p,{label:"排序"},{default:t(()=>[e(K,{modelValue:n.sort,"onUpdate:modelValue":l[8]||(l[8]=a=>n.sort=a),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:24,offset:0},{default:t(()=>[e(p,{label:"部门状态"},{default:t(()=>[e(q,{title:"Switch value: "+n.departmentStatus,placement:"top"},{default:t(()=>[e(O,{checked:n.departmentStatus,"onUpdate:checked":l[9]||(l[9]=a=>n.departmentStatus=a)},null,8,["checked"])]),_:1},8,["title"])]),_:1})]),_:1}),e(d,{span:24,offset:0},{default:t(()=>[e(p,{label:"部门描述"},{default:t(()=>[e(_,{modelValue:n.departmentDescription,"onUpdate:modelValue":l[10]||(l[10]=a=>n.departmentDescription=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}});const oe=W(te,[["__scopeId","data-v-1d61b6a1"]]);export{oe as default};
