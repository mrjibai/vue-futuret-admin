import{x as y,d as L,y as _,l as m,z as x,o as C,a as k,s as P}from"./index-40899037.js";var b={},S={get exports(){return b},set exports(h){b=h}};(function(h,c){(function(v,u){h.exports=u()})(y,function(){function v(e){var r=[];return e.AMapUI&&r.push(u(e.AMapUI)),e.Loca&&r.push(I(e.Loca)),Promise.all(r)}function u(e){return new Promise(function(r,a){var t=[];if(e.plugins)for(var i=0;i<e.plugins.length;i+=1)n.AMapUI.plugins.indexOf(e.plugins[i])==-1&&t.push(e.plugins[i]);if(s.AMapUI===o.failed)a("前次请求 AMapUI 失败");else if(s.AMapUI===o.notload){s.AMapUI=o.loading,n.AMapUI.version=e.version||n.AMapUI.version,i=n.AMapUI.version;var p=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+i+"/main.js",d.onerror=function(l){s.AMapUI=o.failed,a("请求 AMapUI 失败")},d.onload=function(){if(s.AMapUI=o.loaded,t.length)window.AMapUI.loadUI(t,function(){for(var l=0,M=t.length;l<M;l++){var g=t[l].split("/").slice(-1)[0];window.AMapUI[g]=arguments[l]}for(r();f.AMapUI.length;)f.AMapUI.splice(0,1)[0]()});else for(r();f.AMapUI.length;)f.AMapUI.splice(0,1)[0]()},p.appendChild(d)}else s.AMapUI===o.loaded?e.version&&e.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):t.length?window.AMapUI.loadUI(t,function(){for(var l=0,M=t.length;l<M;l++){var g=t[l].split("/").slice(-1)[0];window.AMapUI[g]=arguments[l]}r()}):r():e.version&&e.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):f.AMapUI.push(function(l){l?a(l):t.length?window.AMapUI.loadUI(t,function(){for(var M=0,g=t.length;M<g;M++){var U=t[M].split("/").slice(-1)[0];window.AMapUI[U]=arguments[M]}r()}):r()})})}function I(e){return new Promise(function(r,a){if(s.Loca===o.failed)a("前次请求 Loca 失败");else if(s.Loca===o.notload){s.Loca=o.loading,n.Loca.version=e.version||n.Loca.version;var t=n.Loca.version,i=n.AMap.version.startsWith("2"),p=t.startsWith("2");if(i&&!p||!i&&p)a("JSAPI 与 Loca 版本不对应！！");else{i=n.key,p=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+t+"&key="+i,d.onerror=function(l){s.Loca=o.failed,a("请求 AMapUI 失败")},d.onload=function(){for(s.Loca=o.loaded,r();f.Loca.length;)f.Loca.splice(0,1)[0]()},p.appendChild(d)}}else s.Loca===o.loaded?e.version&&e.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):r():e.version&&e.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):f.Loca.push(function(l){l?a(l):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(o||(o={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},f={AMap:[],AMapUI:[],Loca:[]},A=[],w=function(e){typeof e=="function"&&(s.AMap===o.loaded?e(window.AMap):A.push(e))};return{load:function(e){return new Promise(function(r,a){if(s.AMap==o.failed)a("");else if(s.AMap==o.notload){var t=e.key,i=e.version,p=e.plugins;t?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),n.key=t,n.AMap.version=i||n.AMap.version,n.AMap.plugins=p||n.AMap.plugins,s.AMap=o.loading,i=document.body||document.head,window.___onAPILoaded=function(l){if(delete window.___onAPILoaded,l)s.AMap=o.failed,a(l);else for(s.AMap=o.loaded,v(e).then(function(){r(window.AMap)}).catch(a);A.length;)A.splice(0,1)[0]()},p=document.createElement("script"),p.type="text/javascript",p.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+t+"&plugin="+n.AMap.plugins.join(","),p.onerror=function(l){s.AMap=o.failed,a(l)},i.appendChild(p)):a("请填写key")}else if(s.AMap==o.loaded)if(e.key&&e.key!==n.key)a("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(t=[],e.plugins)for(i=0;i<e.plugins.length;i+=1)n.AMap.plugins.indexOf(e.plugins[i])==-1&&t.push(e.plugins[i]);t.length?window.AMap.plugin(t,function(){v(e).then(function(){r(window.AMap)}).catch(a)}):v(e).then(function(){r(window.AMap)}).catch(a)}else if(e.key&&e.key!==n.key)a("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{var d=[];if(e.plugins)for(i=0;i<e.plugins.length;i+=1)n.AMap.plugins.indexOf(e.plugins[i])==-1&&d.push(e.plugins[i]);w(function(){d.length?window.AMap.plugin(d,function(){v(e).then(function(){r(window.AMap)}).catch(a)}):v(e).then(function(){r(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},f={AMap:[],AMapUI:[],Loca:[]}}}})})(S);const T=b,E={id:"container"},j=L({__name:"index",setup(h){const c=_(null);m([]),m([]);function v(){window._AMapSecurityConfig={securityJsCode:"11519246f8f33ccdb6c0e31db79e50d7"},T.load({key:"b2f0aaec3960e7ca0dc59198c0abb037",version:"2.0",plugins:[""]}).then(u=>{c.value=new u.Map("container",{viewMode:"3D",zoom:10,center:[112.936729,28.217872]}),u.plugin(["AMap.ToolBar","AMap.Scale","AMap.HawkEye","AMap.Geolocation","AMap.MapType","AMap.MouseTool"],function(){c.value.addControl(new u.ToolBar),c.value.addControl(new u.Scale),c.value.addControl(new u.HawkEye),c.value.addControl(new u.Geolocation),c.value.addControl(new u.MapType),new u.MouseTool(c.value).measureArea()});const I=new u.Marker({position:new u.LngLat(112.936729,28.217872),title:"长沙"});c.value.add(I),u.plugin("AMap.DistrictSearch",function(){let o=new u.DistrictSearch({level:"country",subdistrict:1}),n=new u.DistrictSearch({extensions:"all",level:"district"});o.search("中国",function(f,A){}),n.search("芙蓉区",function(f,A){let w=A.districtList[0].boundaries;if(w){for(var e=0,r=w.length;e<r;e++)new u.Polygon({map:c.value,strokeWeight:1,path:w[e],fillOpacity:.7,fillColor:"#CCF3FF",strokeColor:"#CC66CC"});c.value.setFitView()}}),new u.Text({text:"芙蓉区",anchor:"center",draggable:!0,cursor:"pointer",angle:10,style:{"font-size":"40px",color:"blue"},position:[113.03,28.195]}).setMap(c.value)})}).catch(u=>{console.log(u)})}return x(()=>{v()}),(u,I)=>(C(),k("div",E))}});const J=P(j,[["__scopeId","data-v-902b35a2"]]);export{J as default};
