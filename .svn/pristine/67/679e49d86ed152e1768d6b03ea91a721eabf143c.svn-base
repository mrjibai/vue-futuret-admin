import{d as B,D,$ as I,G as U,R as W,E as q,u as A,C as F,a0 as O,l as j,c as K,z as G,r,o,a as u,g as i,w as s,i as _,F as c,b as S,e as d,n as H,j as J,f as y,t as f,O as R,h as x,s as Q}from"./index-e263fa8e.js";import{i as X}from"./IsPcMobile-9614ff5a.js";const Y={class:"navTabar"},Z=B({__name:"index",setup(ee){const T=D(),{ThemeConfig:h,isMobileNav:v}=I(T),p=U(),P=W(),$=q(),M=A(),l=F({selectedKeys:[p.fullPath],openKeys:[],preOpenKeys:["sub1"],clientWidth:0});O(()=>p.fullPath,e=>{l.selectedKeys=[p.fullPath]}),j();const g=X(),N=K(()=>{if(g.isAndroid||g.isPhone)if(v.value){const e=document.createElement("div");e.setAttribute("class","future-mode-masking");const t=document.querySelector(".MainPage");return t==null||t.appendChild(e),e.addEventListener("click",()=>{k()}),["wangwangSide"]}else return k(),["future-mode"];else return["wangwangSide"]}),k=()=>{const e=document.querySelector(".future-mode-masking");setTimeout(()=>{var t;(t=e==null?void 0:e.parentNode)==null||t.removeChild(e)},300),v.value=!1};G(()=>{const e=$.RouterSessionlist.find(t=>t.fullPath===p.fullPath).matched;e.splice(0,1),l.openKeys=e.map(t=>t.path),window.addEventListener("resize",t=>{l.clientWidth=document.body.clientWidth})});const b=e=>{M.push(e)},V=K(()=>P.routesList);return(e,t)=>{const m=r("SvgIcon"),w=r("a-menu-item"),z=r("navTabar_chilren"),C=r("a-sub-menu"),E=r("a-menu"),L=r("a-layout-sider");return o(),u(c,null,[i(L,{width:"240px",collapsed:d(h).collapsed,"onUpdate:collapsed":t[2]||(t[2]=n=>d(h).collapsed=n),class:H(d(N))},{default:s(()=>[_("div",Y,[i(E,{openKeys:l.openKeys,"onUpdate:openKeys":t[0]||(t[0]=n=>l.openKeys=n),style:{height:"100vh"},mode:"inline",selectedKeys:l.selectedKeys,"onUpdate:selectedKeys":t[1]||(t[1]=n=>l.selectedKeys=n)},{default:s(()=>[(o(!0),u(c,null,S(d(V),n=>(o(),u(c,{key:n.path},[n.children?R("",!0):(o(),y(w,{onClick:a=>b(n.path),key:n.path},{icon:s(()=>[i(m,{name:n.meta.icon},null,8,["name"])]),default:s(()=>[_("span",null,f(e.$t(n.meta.title)),1)]),_:2},1032,["onClick"])),n.children?(o(),y(C,{key:n.path},{icon:s(()=>[i(m,{name:n.meta.icon},null,8,["name"])]),title:s(()=>[x(f(e.$t(n.meta.title)),1)]),default:s(()=>[(o(!0),u(c,null,S(n.children,a=>(o(),u(c,{key:a.path},[a.children?(o(),y(C,{key:a.path},{icon:s(()=>[i(m,{name:a.meta.icon},null,8,["name"])]),title:s(()=>[x(f(e.$t(a.meta.title)),1)]),default:s(()=>[i(z,{RouterChildren:a.children},null,8,["RouterChildren"])]),_:2},1024)):(o(),y(w,{onClick:te=>b(a.path),key:a.path},{icon:s(()=>[i(m,{name:a.meta.icon},null,8,["name"])]),default:s(()=>[_("span",null,f(e.$t(a.meta.title)),1)]),_:2},1032,["onClick"]))],64))),128))]),_:2},1024)):R("",!0)],64))),128))]),_:1},8,["openKeys","selectedKeys"])])]),_:1},8,["collapsed","class"]),_("div",{style:J(d(h).collapsed?"width: 80px;":"width:240px"),class:"Thuans"},null,4)],64)}}});const ae=Q(Z,[["__scopeId","data-v-02940f0b"]]);export{ae as default};
