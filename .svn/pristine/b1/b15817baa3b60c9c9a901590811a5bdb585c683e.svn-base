import{d as E,R as Z,y as h,k as x,r as i,o as C,a as S,g as r,i as e,w as n,h as d,t as y,e as L,F as M,b as ee,n as ne,q as oe}from"./index-388b7f2a.js";const te="4003443",ae="wangwang",ie="iconfont",le="icon-",ce="旺旺后台项目",de=[{icon_id:"8084578",name:"页面操作",font_class:"yemiancaozuo",unicode:"e61a",unicode_decimal:58906},{icon_id:"8288983",name:"功能",font_class:"gongneng",unicode:"e867",unicode_decimal:59495},{icon_id:"8329621",name:"数据",font_class:"shuju",unicode:"e6db",unicode_decimal:59099},{icon_id:"11079327",name:"可视化",font_class:"keshihuakanban",unicode:"e711",unicode_decimal:59153},{icon_id:"35691125",name:"通知-copy",font_class:"tongzhi-copy",unicode:"e889",unicode_decimal:59529},{icon_id:"35691136",name:"皮肤-copy",font_class:"pifu-copy",unicode:"e88a",unicode_decimal:59530},{icon_id:"35691142",name:"字体-copy",font_class:"ziti-copy",unicode:"e88b",unicode_decimal:59531},{icon_id:"35691176",name:"搜索-copy",font_class:"sousuo-copy",unicode:"e88c",unicode_decimal:59532},{icon_id:"91363",name:"大图模式",font_class:"datumoshi",unicode:"e667",unicode_decimal:58983},{icon_id:"577700",name:"字典",font_class:"zidian",unicode:"e679",unicode_decimal:59001},{icon_id:"658956",name:"图片",font_class:"tupian",unicode:"e67f",unicode_decimal:59007},{icon_id:"954148",name:"地图",font_class:"ditu",unicode:"e620",unicode_decimal:58912},{icon_id:"1137788",name:"系统",font_class:"xitong",unicode:"e67c",unicode_decimal:59004},{icon_id:"1194580",name:"角色",font_class:"jiaose",unicode:"e64d",unicode_decimal:58957},{icon_id:"2076215",name:"音量",font_class:"yinliang",unicode:"e87a",unicode_decimal:59514},{icon_id:"2076240",name:" 筛选",font_class:"shaixuan",unicode:"e888",unicode_decimal:59528},{icon_id:"4640798",name:"首页",font_class:"shouye",unicode:"e603",unicode_decimal:58883},{icon_id:"5121503",name:"权限",font_class:"quanxian",unicode:"e642",unicode_decimal:58946},{icon_id:"6540388",name:"搜索",font_class:"sousuo",unicode:"e607",unicode_decimal:58887},{icon_id:"6996235",name:"组织",font_class:"zuzhi",unicode:"e712",unicode_decimal:59154},{icon_id:"7533298",name:"表格",font_class:"biaoge",unicode:"e606",unicode_decimal:58886},{icon_id:"7638975",name:"通知",font_class:"tongzhi",unicode:"e615",unicode_decimal:58901},{icon_id:"7738015",name:"用户",font_class:"yonghu",unicode:"e608",unicode_decimal:58888},{icon_id:"8765149",name:"皮肤",font_class:"pifu",unicode:"e62b",unicode_decimal:58923},{icon_id:"9384062",name:"菜单",font_class:"caidan",unicode:"e609",unicode_decimal:58889},{icon_id:"10110717",name:"列表形式",font_class:"liebiaoxingshi",unicode:"e613",unicode_decimal:58899},{icon_id:"11179876",name:"字体",font_class:"ziti",unicode:"e604",unicode_decimal:58884},{icon_id:"11831146",name:"水杯",font_class:"shuibei",unicode:"e732",unicode_decimal:59186},{icon_id:"12078142",name:"瀑布流",font_class:"pubuliu",unicode:"e6b7",unicode_decimal:59063},{icon_id:"15858649",name:"水滴",font_class:"di",unicode:"e610",unicode_decimal:58896},{icon_id:"17722244",name:"吉他",font_class:"ziyuan9",unicode:"e614",unicode_decimal:58900},{icon_id:"6851521",name:"操作",font_class:"caozuo",unicode:"e6d7",unicode_decimal:59095},{icon_id:"6246309",name:"组件",font_class:"zujian",unicode:"e652",unicode_decimal:58962},{icon_id:"12321001",name:"页面",font_class:"yemian",unicode:"e622",unicode_decimal:58914},{icon_id:"12331649",name:"表单",font_class:"biaodan",unicode:"e663",unicode_decimal:58979}],se={id:te,name:ae,font_family:ie,css_prefix_text:le,description:ce,glyphs:de},ue={class:"menus"},_e={class:"sercarINput"},me={style:{display:"flex"}},fe={class:"my-dropdown4"},re={class:"scrolbar"},pe=["onClick"],ve=E({name:"roles"}),ye=E({...ve,setup(ge){const w=Z(),z=h({filterName:""}),p=h({MenusRouterList:[],Tips:"新增菜单"});h({});const P=l=>{let a=JSON.parse(JSON.stringify(l));function u(s){let b=[];return s.forEach(c=>{c.label=c.meta.title,c.children&&c.children.length>0&&u(c.children),b.push(c)}),b}return u(a)},$=()=>{f.value=!0,p.Tips="新增菜单"};x();function V(l){return`iconfont icon-${l.font_class}`}const t=h({ParentPath:"",path:"",name:"",component:"",title:"",roles:[],icon:"",sort:1,redirect:"",type:""}),R=l=>{t.path=l.path,t.name=l.name.toString(),t.component=l.component+"",t.title=l.meta.title.toString(),t.roles=[l.meta.roles].flat(),t.icon=l.meta.icon.toString(),t.sort=parseInt(l.meta.sort.toString()),l.redirect&&(t.redirect=l.redirect.toString()),t.type=l.meta.type.toString(),f.value=!0,p.Tips="编辑菜单"},j=x(),v=x(!1),I=()=>{v.value=!0,f.value=!1,setTimeout(()=>{g()},1e3)},f=x(!1),g=()=>{v.value=!1,p.MenusRouterList=w.routesList},B=()=>{f.value=!1;for(const l in t)t[l]="";t.roles=[],t.sort=1};g();const T=()=>{v.value=!0,setTimeout(()=>{g()},1e3)},O=l=>{v.value=!0,setTimeout(()=>{g()},1e3)};return(l,a)=>{const u=i("a-input"),s=i("a-button"),b=i("vxe-toolbar"),c=i("vxe-column"),q=i("a-tag"),D=i("a-popconfirm"),F=i("vxe-table"),J=i("a-spin"),A=i("a-tree-select"),_=i("a-form-item"),m=i("a-col"),H=i("a-popover"),U=i("a-radio"),K=i("a-radio-group"),N=i("a-select-option"),G=i("a-select"),Q=i("a-input-number"),W=i("a-row"),X=i("a-form"),Y=i("a-modal");return C(),S(M,null,[r("div",ue,[e(b,null,{buttons:n(()=>[r("div",_e,[e(u,{modelValue:z.filterName,"onUpdate:modelValue":a[0]||(a[0]=o=>z.filterName=o),type:"search",placeholder:"请输入菜单名称，搜索",onKeyup:T},null,8,["modelValue"]),e(s,{type:"primary",ghost:"",onClick:T},{default:n(()=>[d("查询")]),_:1}),e(s,{type:"primary",onClick:$},{default:n(()=>[d("新增菜单")]),_:1})])]),_:1}),e(J,{spinning:v.value},{default:n(()=>[e(F,{border:"none",ref_key:"xTree",ref:j,"max-height":"700","tree-config":{},data:p.MenusRouterList,align:"left"},{default:n(()=>[e(c,{title:"菜单名称","tree-node":""},{default:n(({row:o})=>[r("div",null,y(o.meta.title),1)]),_:1}),e(c,{field:"path",title:"路由",width:"20%"}),e(c,{field:"",title:"组件路径","show-overflow":"","show-footer-overflow":""},{default:n(({row:o})=>[d(y(o.component),1)]),_:1}),e(c,{field:"roles",title:"权限",width:"14%","show-overflow":"","show-footer-overflow":""},{default:n(({row:o})=>[r("div",me,y(o.meta.roles),1)]),_:1}),e(c,{field:"sort",title:"排序"},{default:n(({row:o})=>[d(y(o.meta.sort),1)]),_:1}),e(c,{field:"type",title:"类型"},{default:n(({row:o})=>[e(q,{title:o.meta.type,color:"#87d068"},{default:n(()=>[d(y(o.meta.type),1)]),_:2},1032,["title"])]),_:1}),e(c,{field:"",title:"操作"},{default:n(({row:o})=>[e(s,{type:"link",onClick:k=>R(o)},{default:n(()=>[d("新增")]),_:2},1032,["onClick"]),e(s,{type:"link",onClick:k=>R(o)},{default:n(()=>[d("修改")]),_:2},1032,["onClick"]),e(D,{title:"你确认要删除这条数据吗 ?",onConfirm:k=>O(o),"ok-text":"确认","cancel-text":"取消"},{default:n(()=>[e(s,{type:"link"},{default:n(()=>[d("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1},8,["spinning"])]),e(Y,{open:f.value,"onUpdate:open":a[10]||(a[10]=o=>f.value=o),title:p.Tips,afterClose:B,draggable:""},{footer:n(()=>[e(s,{onClick:a[9]||(a[9]=o=>f.value=!1)},{default:n(()=>[d("取消")]),_:1}),e(s,{type:"primary",onClick:I},{default:n(()=>[d(" 保存 ")]),_:1})]),default:n(()=>[e(X,{model:t,"label-width":"120px"},{default:n(()=>[e(W,{gutter:20},{default:n(()=>[e(m,{span:24,offset:0},{default:n(()=>[e(_,{label:"上级菜单"},{default:n(()=>[e(A,{value:t.ParentPath,"onUpdate:value":a[1]||(a[1]=o=>t.ParentPath=o),style:{width:"100%"},"field-names":{label:"label",value:"path",children:"children",key:"path"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"","allow-clear":"","tree-default-expand-all":"","tree-data":P(L(w).routesList)},null,8,["value","tree-data"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"菜单名称"},{default:n(()=>[e(u,{value:t.title,"onUpdate:value":a[2]||(a[2]=o=>t.title=o)},null,8,["value"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"路由名称"},{default:n(()=>[e(u,{value:t.name,"onUpdate:value":a[3]||(a[3]=o=>t.name=o)},null,8,["value"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"菜单图标"},{default:n(()=>[e(H,{placement:"bottom",width:400,trigger:"click"},{content:n(()=>[r("div",fe,[r("div",re,[(C(!0),S(M,null,ee(L(se).glyphs,o=>(C(),S("div",{onClick:k=>t.icon=V(o),key:o.icon_id,class:"iocnntn"},[r("i",{class:ne(V(o))},null,2)],8,pe))),128))])])]),default:n(()=>[e(u,{value:t.icon,"onUpdate:value":a[4]||(a[4]=o=>t.icon=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"重定向"},{default:n(()=>[e(u,{modelValue:t.redirect,"onUpdate:modelValue":a[5]||(a[5]=o=>t.redirect=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"类型"},{default:n(()=>[e(K,{value:t.type,"onUpdate:value":a[6]||(a[6]=o=>t.type=o)},{default:n(()=>[e(U,{value:"菜单"},{default:n(()=>[d("菜单")]),_:1}),e(U,{value:"按钮"},{default:n(()=>[d("按钮")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"菜单权限"},{default:n(()=>[e(G,{value:t.roles,"onUpdate:value":a[7]||(a[7]=o=>t.roles=o),"value-key":"",placeholder:"请选择",clearable:"",filterable:"",multiple:""},{default:n(()=>[e(N,{value:"admin"},{default:n(()=>[d("admin ")]),_:1}),e(N,{value:"common"},{default:n(()=>[d("common ")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:n(()=>[e(_,{label:"排序"},{default:n(()=>[e(Q,{value:t.sort,"onUpdate:value":a[8]||(a[8]=o=>t.sort=o),min:1,max:10},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])],64)}}});const he=oe(ye,[["__scopeId","data-v-4d1f91b2"]]);export{he as default};
