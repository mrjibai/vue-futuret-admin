import{d as A,l as h,z as T,U,R as E,E as I,G as P,S as n,r as u,o as b,a as B,i as v,g as r,w as d,h as R,L as S,H as x,I as V,s as k}from"./index-40899037.js";const M={class:"leading_end_page"},z={class:"item"},F={class:"item"},G=A({name:"leading_end_page"}),H=A({...G,setup($){const C="温馨提示： 此权限页面代码及效果只作为演示使用，若出现不可逆转的bug，请尝试 `F5` 刷新页面。",l=h("");T(()=>{w()});const N=U(),m=E(),_=I(),c=h("admin"),p=P(),w=()=>{const e=n.get("userName");l.value=`当前用户的页面权限是：${p.meta.roles}`,e&&(c.value=e.username)},y=e=>{const t=e.target.value;if(t==="admin")L();else if(t==="common"){N.Update_userinfoRouter(t);let s=n.get("userName");s.username="common",n.set("userName",s);let a=f(m.routesList),i=[{path:"/",children:[]}];i[0].children=a,S.set("RouterStoreLIST",i),m.MutionsactionSetRouterlist(a);let o=[..._.RouterSessionlist];o=o.filter(g=>g.fullPath==p.fullPath||g.fullPath==="/home"),_.setlist(o),n.set("RouterslistSeeion",o)}},L=()=>{let e=n.get("userName");e.username="admin",n.set("userName",e),S.set("RouterStoreLIST",x),V(x)},f=e=>(e=e.filter(t=>t.meta.roles.includes("common")),e.forEach(t=>{t.children&&(t.children=t.children.filter(s=>s.meta.roles.includes("common")),f(t.children))}),e);return(e,t)=>{const s=u("a-alert"),a=u("a-radio-button"),i=u("a-radio-group");return b(),B("div",M,[v("div",z,[r(s,{message:C,type:"warning","show-icon":""})]),v("div",F,[r(s,{message:l.value,type:"success"},null,8,["message"])]),r(i,{value:c.value,"onUpdate:value":t[0]||(t[0]=o=>c.value=o),onChange:y},{default:d(()=>[r(a,{value:"admin"},{default:d(()=>[R("admin")]),_:1}),r(a,{value:"common"},{default:d(()=>[R("common")]),_:1})]),_:1},8,["value"])])}}});const q=k(H,[["__scopeId","data-v-63c18c46"]]);export{q as default};
