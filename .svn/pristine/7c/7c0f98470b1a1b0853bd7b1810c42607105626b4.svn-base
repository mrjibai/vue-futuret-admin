import{d as C,k as h,z as T,U,R as E,C as P,D as b,S as n,r as u,o as k,a as B,g as v,i as r,w as d,h as R,L as S,E as x,G as I,q as V}from"./index-388b7f2a.js";const M={class:"leading_end_page"},q={class:"item"},z={class:"item"},D=C({name:"leading_end_page"}),F=C({...D,setup(G){const A="温馨提示： 此权限页面代码及效果只作为演示使用，若出现不可逆转的bug，请尝试 `F5` 刷新页面。",m=h("");T(()=>{w()});const N=U(),l=E(),_=P(),c=h("admin"),f=b(),w=()=>{const e=n.get("userName");m.value=`当前用户的页面权限是：${f.meta.roles}`,e&&(c.value=e.username)},y=e=>{const t=e.target.value;if(t==="admin")L();else if(t==="common"){N.Update_userinfoRouter(t);let s=n.get("userName");s.username="common",n.set("userName",s);let a=p(l.routesList),i=[{path:"/",children:[]}];i[0].children=a,S.set("RouterStoreLIST",i),l.MutionsactionSetRouterlist(a);let o=[..._.RouterSessionlist];o=o.filter(g=>g.fullPath==f.fullPath||g.fullPath==="/home"),_.setlist(o),n.set("RouterslistSeeion",o)}},L=()=>{let e=n.get("userName");e.username="admin",n.set("userName",e),S.set("RouterStoreLIST",x),I(x)},p=e=>(e=e.filter(t=>t.meta.roles.includes("common")),e.forEach(t=>{t.children&&(t.children=t.children.filter(s=>s.meta.roles.includes("common")),p(t.children))}),e);return(e,t)=>{const s=u("a-alert"),a=u("a-radio-button"),i=u("a-radio-group");return k(),B("div",M,[v("div",q,[r(s,{message:A,type:"warning","show-icon":""})]),v("div",z,[r(s,{message:m.value,type:"success"},null,8,["message"])]),r(i,{value:c.value,"onUpdate:value":t[0]||(t[0]=o=>c.value=o),onChange:y},{default:d(()=>[r(a,{value:"admin"},{default:d(()=>[R("admin")]),_:1}),r(a,{value:"common"},{default:d(()=>[R("common")]),_:1})]),_:1},8,["value"])])}}});const j=V(F,[["__scopeId","data-v-0fce1c88"]]);export{j as default};
